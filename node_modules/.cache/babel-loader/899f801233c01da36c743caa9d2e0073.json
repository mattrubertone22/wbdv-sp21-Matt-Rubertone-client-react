{"ast":null,"code":"var _jsxFileName = \"/Users/mattrubertone/Documents/Northeastern/wbdv-sp21-Matt-Rubertone-client-react/wbdv-sp21-matt-rubertone-client-react/src/components/course-editor/topic-pills.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport TopicService from \"../../services/topic-service\";\nimport { Link } from \"react-router-dom\";\nimport { useLocation } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TopicPillsComponent = ( //comes from redux store\n{\n  course = {},\n  moduleId,\n  lessonId,\n  topics = [],\n  topicId,\n  // tempTopicId,\n  createTopic,\n  deleteTopic,\n  updateTopic,\n  editTopic,\n  okTopic\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n    children: \"Topics:\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n    children: [\"topicId (\", topicId, \")\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n    className: \"nav nav-pills \",\n    children: [topics.map(topic => /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"nav-item border rounded m-2\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        className: `nav-link ${topicId === topic._id ? 'active' : ''}`,\n        \"data-toggle\": \"tab\",\n        children: [!topic.editing && /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            className: `m-0  ${topicId === topic._id ? 'text-white ' : ''}`,\n            to: `/edit/${course._id}/modules/${moduleId}/lessons/${lessonId}/topics/${topic._id}`,\n            children: topic.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 48\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-light btn-sm ml-1\",\n            onClick: () => editTopic(topic),\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"far fa-edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 49\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 48\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 33\n        }, this), topic.editing && /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: event => updateTopic({ ...topic,\n              title: event.target.value\n            }),\n            value: topic.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 49\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-light btn-sm\",\n            onClick: () => okTopic(topic),\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-check\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 53\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 49\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-light btn-sm\",\n            onClick: () => deleteTopic(topic._id),\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-trash-alt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 53\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 49\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 25\n      }, this)\n    }, topic._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 21\n    }, this)), /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"nav-item border rounded m-2\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"nav-link\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-light btn-sm\",\n          onClick: () => createTopic(lessonId),\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 24,\n  columnNumber: 5\n}, this);\n\n_c = TopicPillsComponent;\n\nconst stateToPropertyMapper = state => ({\n  topics: state.topicReducer.topics,\n  topicId: state.topicReducer.topicId,\n  lessons: state.topicReducer.lessons,\n  lessonId: state.topicReducer.lessonId,\n  moduleId: state.lessonReducer.moduleId,\n  course: state.courseReducer.course // for single course\n\n});\n\nconst dispatchToPropertyMapper = dispatch => ({\n  okTopic: topic => TopicService.updateTopic(topic._id, { ...topic,\n    editing: false\n  }).then(status => dispatch({\n    type: \"UPDATE_TOPIC\",\n    topic: { ...topic,\n      editing: false\n    }\n  })),\n  editTopic: topic => TopicService.updateTopic(topic._id, { ...topic,\n    editing: true\n  }).then(status => dispatch({\n    type: \"UPDATE_TOPIC\",\n    topic: { ...topic,\n      editing: true\n    }\n  })),\n  updateTopic: topic => TopicService.updateTopic(topic._id, topic).then(status => dispatch({\n    type: \"UPDATE_TOPIC\",\n    topic: topic\n  })),\n  deleteTopic: topicId => {\n    TopicService.deleteTopic(topicId).then(status => {\n      dispatch({\n        type: \"DELETE_TOPIC\",\n        topicId\n      });\n    });\n  },\n  createTopic: lessonId => {\n    TopicService.createTopicForLesson(lessonId, {\n      title: \"New Topic\"\n    }).then(actualTopic => {\n      dispatch({\n        type: \"CREATE_TOPIC_FOR_LESSON\",\n        topic: actualTopic\n      });\n    });\n  }\n});\n\nexport default connect(stateToPropertyMapper, dispatchToPropertyMapper)(TopicPillsComponent);\n\nvar _c;\n\n$RefreshReg$(_c, \"TopicPillsComponent\");","map":{"version":3,"sources":["/Users/mattrubertone/Documents/Northeastern/wbdv-sp21-Matt-Rubertone-client-react/wbdv-sp21-matt-rubertone-client-react/src/components/course-editor/topic-pills.js"],"names":["React","connect","TopicService","Link","useLocation","withRouter","TopicPillsComponent","course","moduleId","lessonId","topics","topicId","createTopic","deleteTopic","updateTopic","editTopic","okTopic","map","topic","_id","editing","title","event","target","value","stateToPropertyMapper","state","topicReducer","lessons","lessonReducer","courseReducer","dispatchToPropertyMapper","dispatch","then","status","type","createTopicForLesson","actualTopic"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {connect} from \"react-redux\";\nimport TopicService from \"../../services/topic-service\";\nimport {Link} from \"react-router-dom\";\nimport { useLocation } from 'react-router-dom'\nimport {withRouter} from 'react-router-dom';\n\nconst TopicPillsComponent = (\n\n    //comes from redux store\n    {\n        course = {},\n        moduleId,\n        lessonId,\n        topics=[],\n        topicId,\n        // tempTopicId,\n        createTopic,\n        deleteTopic,\n        updateTopic,\n        editTopic,\n        okTopic\n    }) =>\n    <div>\n        <h1>Topics:</h1>\n        {/*<h6>Course._id ({course._id})</h6>*/}\n        {/*<h6>ModuleId ({moduleId})</h6>*/}\n        <h6>topicId ({topicId})</h6>\n\n        <ul className=\"nav nav-pills \">\n            {\n\n                topics.map(topic =>\n                    <li key={topic._id}\n                        className=\"nav-item border rounded m-2\">\n                        <a className={`nav-link ${topicId === topic._id?'active':''}`}\n                           data-toggle=\"tab\">\n                            {\n                                !topic.editing &&\n                                <span>\n                                               <Link className={`m-0  ${topicId === topic._id?'text-white ':''}`}\n                                                     to={`/edit/${course._id}/modules/${moduleId}/lessons/${lessonId}/topics/${topic._id}`}>\n                                                    {topic.title}\n                                                </Link>\n                                               <button\n                                                   className=\"btn btn-light btn-sm ml-1\"\n                                                   onClick={() => editTopic(topic)}>\n                                                <i className=\"far fa-edit\"></i>\n                                                </button>\n                                           </span>\n                            }\n                            {\n                                topic.editing &&\n                                <span>\n                                                <input\n                                                    onChange={(event) => updateTopic({\n                                                        ...topic,\n                                                        title: event.target.value\n                                                    })}\n                                                    value={topic.title}/>\n\n                                                <button\n                                                    className=\"btn btn-light btn-sm\"\n                                                    onClick={() => okTopic(topic)}>\n                                                    <i className=\"fa fa-check\"></i>\n                                                </button>\n                                                <button\n                                                    className=\"btn btn-light btn-sm\"\n                                                    onClick={() => deleteTopic(topic._id)}>\n                                                    <i className=\"fas fa-trash-alt\"></i>\n                                                 </button>\n                                           </span>\n\n                            }\n\n\n                        </a>\n                    </li>\n                )\n            }\n\n            <li className=\"nav-item border rounded m-2\">\n                <a className=\"nav-link\">\n                    <button\n                        className=\"btn btn-light btn-sm\"\n                        onClick={() => createTopic(lessonId)}>\n                        +\n                    </button>\n                </a>\n\n            </li>\n        </ul>\n\n\n    </div>\n\nconst stateToPropertyMapper = (state) => ({\n    topics: state.topicReducer.topics,\n    topicId: state.topicReducer.topicId,\n    lessons: state.topicReducer.lessons,\n    lessonId: state.topicReducer.lessonId,\n    moduleId: state.lessonReducer.moduleId,\n    course: state.courseReducer.course, // for single course\n\n})\n\nconst dispatchToPropertyMapper = (dispatch) => ({\n    okTopic: (topic) =>\n        TopicService.updateTopic(topic._id, {\n            ...topic, editing: false\n        }).then(status => dispatch({\n            type: \"UPDATE_TOPIC\",\n            topic: {...topic, editing: false}\n        })),\n    editTopic: (topic) =>\n        TopicService.updateTopic(topic._id, {\n            ...topic, editing: true\n        }).then(status =>\n            dispatch({\n                type: \"UPDATE_TOPIC\",\n                topic: {...topic, editing: true}\n            })),\n\n    updateTopic: (topic) =>\n        TopicService.updateTopic(topic._id, topic)\n            .then(status => dispatch({\n                type: \"UPDATE_TOPIC\",\n                topic: topic\n            })),\n\n    deleteTopic: (topicId) =>\n    {\n\n        TopicService.deleteTopic(topicId)\n            .then(status => {\n\n                dispatch({\n                    type: \"DELETE_TOPIC\",\n                    topicId\n                })\n            })\n    },\n    createTopic: (lessonId) => {\n        TopicService.createTopicForLesson(\n            lessonId, {\n                title: \"New Topic\"\n            })\n            .then(actualTopic => {\n                dispatch({\n                    type: \"CREATE_TOPIC_FOR_LESSON\",\n                    topic: actualTopic\n                })\n            })\n    }\n})\n\n\nexport default connect\n(stateToPropertyMapper,\n    dispatchToPropertyMapper)\n(TopicPillsComponent)\n"]},"metadata":{},"sourceType":"module"}